
@model IEnumerable<CaptainMao.Models.Merchandise>
@{
    ViewBag.Title = "Index";
    Layout = "~/Views/Shared/_MaoLayout.cshtml";
}
@section style{
    <link href="~/Areas/buy/css/shoppingIndex.css" rel="stylesheet" />
}
<!--aside側欄 article主欄-->

<aside class="col-lg-1 col-lg-offset-1 col-sm-1">
    <!-------------------asideOpen------------------->
    @Html.Action("Aside","Shopping")
    <!-------------------asideEnd------------------->
</aside>
<article class="col-lg-9 col-sm-11">

    <!-------------------articleOpen------------------->
    <div class="col-lg-12">
        <div class="drawingpin  col-sm-12">
            <div class="row">
                <div class="col-sm-1">@Html.DisplayNameFor(c => c.First().Merchandise_ID)</div>
                <div class="col-sm-2">@Html.DisplayNameFor(c => c.First().Merchandise_Name)</div>
                <div class="col-sm-2">@Html.DisplayNameFor(c => c.First().Merchandise_Photo)</div>
                <div class="col-sm-2">@Html.DisplayNameFor(c => c.First().Merchandise_Price)</div>
                <div class="col-sm-2">@Html.DisplayNameFor(c => c.First().Merchandise_Creatdate)</div>
            </div>
            <div id="tbody ">
                @foreach (var _model in Model)
                {
                    <div class="row">
                        <div class="col-sm-1">@Html.DisplayFor(c => _model.Merchandise_ID)</div>
                        <div class="col-sm-2">


                            @Html.ActionLink(_model.Merchandise_Name, "About", "Shopping", new { Merchandise_ID = _model.Merchandise_ID }, null)
                        </div>
                        @{
                            string url = "";
                            try
                            {
                                if (_model.Merchandise_Photo.Length >0)
                                {
                                    url = Url.Action("PixbyID", "zPublicFunction", new { id = _model.Merchandise_ID });
                                }
                            }
                            catch
                            {
                                url = _model.Merchandise_Photo_Address;
                            }
                        }
                        <div class="col-sm-2"><img src='@url' class="img-circle" width="80" height="80" /></div>
                        <div class="col-sm-2">@Html.DisplayFor(c => _model.Merchandise_Price)</div>
                        <div class="col-sm-2">@Html.DisplayFor(c => _model.Merchandise_Creatdate)</div>
                        <div class="col-sm-2">

                            @Ajax.ActionLink("加入", null, "api/PublicAPI", new { Merchandise_ID = _model.Merchandise_ID, area = "" }, new AjaxOptions { HttpMethod = "POST" }, new { @class = "btn btn-primary glyphicon glyphicon-shopping-cart" })
                        </div>
                    </div>
                            }
            </div>
        </div>
    </div>

    <!-------------------articleEnd------------------->
</article>






@section script{
    <!--aside-->
    <script src='@Url.Content("~/Areas/buy/js/ShoppingAside.js")' ></script>
<script src='@Url.Content("~/Scripts/jquery.unobtrusive-ajax.js")'></script>

}